[ELEVATOR] Simulator Started (Reactive Mode).
 * Serving Flask app 'mock_api'
 * Debug mode: on
USING RUNNER: behave.runner:Runner
Starting Simulators (API and Elevator)...
Feature: IoT Elevator Complete Test Suite # features/elevator.feature:1

  Feature: IoT Elevator Complete Test Suite  # features/elevator.feature:1

  Scenario Outline: Move the elevator to valid floors -- @1.1   # features/elevator.feature:13
    Given the elevator simulator and API are online             # features/steps/elevator_steps.py:32
    When I send the "MOVE" command to floor "1"                 # features/steps/elevator_steps.py:37
[ELEVATOR] Moving to floor 1
    Then the elevator should report it is on floor "1"          # features/steps/elevator_steps.py:48

  Scenario Outline: Move the elevator to valid floors -- @1.2   # features/elevator.feature:14
    Given the elevator simulator and API are online             # features/steps/elevator_steps.py:32
    When I send the "MOVE" command to floor "2"                 # features/steps/elevator_steps.py:37
[ELEVATOR] Moving to floor 2
    Then the elevator should report it is on floor "2"          # features/steps/elevator_steps.py:48

  Scenario Outline: Move the elevator to valid floors -- @1.3   # features/elevator.feature:15
    Given the elevator simulator and API are online             # features/steps/elevator_steps.py:32
    When I send the "MOVE" command to floor "3"                 # features/steps/elevator_steps.py:37
[ELEVATOR] Moving to floor 3
    Then the elevator should report it is on floor "3"          # features/steps/elevator_steps.py:48

  Scenario Outline: Move the elevator to valid floors -- @1.4   # features/elevator.feature:16
    Given the elevator simulator and API are online             # features/steps/elevator_steps.py:32
    When I send the "MOVE" command to floor "4"                 # features/steps/elevator_steps.py:37
[ELEVATOR] Moving to floor 4
    Then the elevator should report it is on floor "4"          # features/steps/elevator_steps.py:48

  Scenario Outline: Move the elevator to valid floors -- @1.5   # features/elevator.feature:17
    Given the elevator simulator and API are online             # features/steps/elevator_steps.py:32
    When I send the "MOVE" command to floor "5"                 # features/steps/elevator_steps.py:37
[ELEVATOR] Moving to floor 5
    Then the elevator should report it is on floor "5"          # features/steps/elevator_steps.py:48

  Scenario Outline: Move the elevator to valid floors -- @1.6   # features/elevator.feature:18
    Given the elevator simulator and API are online             # features/steps/elevator_steps.py:32
    When I send the "MOVE" command to floor "6"                 # features/steps/elevator_steps.py:37
[ELEVATOR] Moving to floor 6
    Then the elevator should report it is on floor "6"          # features/steps/elevator_steps.py:48

  Scenario Outline: Move the elevator to valid floors -- @1.7   # features/elevator.feature:19
    Given the elevator simulator and API are online             # features/steps/elevator_steps.py:32
    When I send the "MOVE" command to floor "7"                 # features/steps/elevator_steps.py:37
[ELEVATOR] Moving to floor 7
    Then the elevator should report it is on floor "7"          # features/steps/elevator_steps.py:48

  Scenario Outline: Move the elevator to valid floors -- @1.8   # features/elevator.feature:20
    Given the elevator simulator and API are online             # features/steps/elevator_steps.py:32
    When I send the "MOVE" command to floor "8"                 # features/steps/elevator_steps.py:37
[ELEVATOR] Moving to floor 8
    Then the elevator should report it is on floor "8"          # features/steps/elevator_steps.py:48

  Scenario Outline: Move the elevator to valid floors -- @1.9   # features/elevator.feature:21
    Given the elevator simulator and API are online             # features/steps/elevator_steps.py:32
    When I send the "MOVE" command to floor "9"                 # features/steps/elevator_steps.py:37
[ELEVATOR] Moving to floor 9
    Then the elevator should report it is on floor "9"          # features/steps/elevator_steps.py:48

  Scenario Outline: Move the elevator to valid floors -- @1.10   # features/elevator.feature:22
    Given the elevator simulator and API are online              # features/steps/elevator_steps.py:32
    When I send the "MOVE" command to floor "10"                 # features/steps/elevator_steps.py:37
[ELEVATOR] Moving to floor 10
    Then the elevator should report it is on floor "10"          # features/steps/elevator_steps.py:48

  Scenario: Attempt to move to an invalid floor              # features/elevator.feature:24
    Given the elevator simulator and API are online          # features/steps/elevator_steps.py:32
    When I send the "MOVE" command to floor "15"             # features/steps/elevator_steps.py:37
[ELEVATOR ERROR] Floor 15 is out of range (1-10).
    Then the system should register an invalid command error # features/steps/elevator_steps.py:61

  Scenario: Activate and Deactivate maintenance mode  # features/elevator.feature:29
    Given the elevator simulator and API are online   # features/steps/elevator_steps.py:32
    When I send the "MAINTENANCE_ON" command          # features/steps/elevator_steps.py:43
[ELEVATOR] Maintenance Mode ACTIVATED
    Then the elevator should enter maintenance mode   # features/steps/elevator_steps.py:75
    When I send the "MAINTENANCE_OFF" command         # features/steps/elevator_steps.py:43
[ELEVATOR] Maintenance Mode DEACTIVATED
    Then the elevator should exit maintenance mode    # features/steps/elevator_steps.py:80

  Scenario: Safety Lock - Attempt to move during maintenance  # features/elevator.feature:36
    Given the elevator simulator and API are online           # features/steps/elevator_steps.py:32
    When I send the "MOVE" command to floor "1"               # features/steps/elevator_steps.py:37
[ELEVATOR] Moving to floor 1
    Then the elevator should report it is on floor "1"        # features/steps/elevator_steps.py:48
    When I send the "MAINTENANCE_ON" command                  # features/steps/elevator_steps.py:43
[ELEVATOR] Maintenance Mode ACTIVATED
    Then the elevator should enter maintenance mode           # features/steps/elevator_steps.py:75
    When I send the "MOVE" command to floor "5"               # features/steps/elevator_steps.py:37
[ELEVATOR ERROR] Elevator is in maintenance mode; MOVE_TO commands are not allowed.
    Then the elevator should report it is on floor "1"        # features/steps/elevator_steps.py:48
    When I send the "MAINTENANCE_OFF" command                 # features/steps/elevator_steps.py:43
[ELEVATOR] Maintenance Mode DEACTIVATED

  Scenario: Open and close the door                 # features/elevator.feature:48
    Given the elevator simulator and API are online # features/steps/elevator_steps.py:32
    When I send the "OPEN_DOOR" command             # features/steps/elevator_steps.py:43
[ELEVATOR] Door OPENING...
    Then the door status should be "open"           # features/steps/elevator_steps.py:132
    When I send the "CLOSE_DOOR" command            # features/steps/elevator_steps.py:43
[ELEVATOR] Door CLOSING...
    Then the door status should be "closed"         # features/steps/elevator_steps.py:132

  Scenario: Verify continuous data reception                                                # features/elevator.feature:55
    Given the elevator simulator and API are online                                         # features/steps/elevator_steps.py:32
    Then the cloud should periodically receive "position", "weight", and "door_status" data # features/steps/elevator_steps.py:86

  Scenario Outline: API - Validate missing required fields -- @1.1           # features/elevator.feature:66
    Given the elevator simulator and API are online                          # features/steps/elevator_steps.py:32
    When I POST raw payload '{"door_status":"closed","weight":0}' to the API # features/steps/elevator_steps.py:108
    Then the response status code should be 400                              # features/steps/elevator_steps.py:117
    And the response error message should contain "Missing fields"           # features/steps/elevator_steps.py:122

  Scenario Outline: API - Validate missing required fields -- @1.2   # features/elevator.feature:67
    Given the elevator simulator and API are online                  # features/steps/elevator_steps.py:32
    When I POST raw payload '{"position":1,"weight":0}' to the API   # features/steps/elevator_steps.py:108
    Then the response status code should be 400                      # features/steps/elevator_steps.py:117
    And the response error message should contain "Missing fields"   # features/steps/elevator_steps.py:122

  Scenario Outline: API - Validate missing required fields -- @1.3             # features/elevator.feature:68
    Given the elevator simulator and API are online                            # features/steps/elevator_steps.py:32
    When I POST raw payload '{"position":1,"door_status":"closed"}' to the API # features/steps/elevator_steps.py:108
    Then the response status code should be 400                                # features/steps/elevator_steps.py:117
    And the response error message should contain "Missing fields"             # features/steps/elevator_steps.py:122

  Scenario Outline: API - Validate missing required fields -- @1.4   # features/elevator.feature:69
    Given the elevator simulator and API are online                  # features/steps/elevator_steps.py:32
    When I POST raw payload '{}' to the API                          # features/steps/elevator_steps.py:108
    Then the response status code should be 400                      # features/steps/elevator_steps.py:117
    And the response error message should contain "Missing fields"   # features/steps/elevator_steps.py:122

  Scenario Outline: API - Validate invalid position boundaries -- @1.1                          # features/elevator.feature:78
    Given the elevator simulator and API are online                                             # features/steps/elevator_steps.py:32
    When I POST raw payload '{"position": 0, "door_status": "closed", "weight": 10}' to the API # features/steps/elevator_steps.py:108
    Then the response status code should be 400                                                 # features/steps/elevator_steps.py:117
    And the response error message should contain "Invalid position"                            # features/steps/elevator_steps.py:122

  Scenario Outline: API - Validate invalid position boundaries -- @1.2                           # features/elevator.feature:79
    Given the elevator simulator and API are online                                              # features/steps/elevator_steps.py:32
    When I POST raw payload '{"position": 11, "door_status": "closed", "weight": 10}' to the API # features/steps/elevator_steps.py:108
    Then the response status code should be 400                                                  # features/steps/elevator_steps.py:117
    And the response error message should contain "Invalid position"                             # features/steps/elevator_steps.py:122

  Scenario: API - Validate invalid door status enum                                             # features/elevator.feature:81
    Given the elevator simulator and API are online                                             # features/steps/elevator_steps.py:32
    When I POST raw payload '{"position": 1, "door_status": "broken", "weight": 10}' to the API # features/steps/elevator_steps.py:108
    Then the response status code should be 400                                                 # features/steps/elevator_steps.py:117
    And the response error message should contain "Invalid door_status"                         # features/steps/elevator_steps.py:122

  Scenario Outline: API - Validate weight limits -- @1.1                                        # features/elevator.feature:93
    Given the elevator simulator and API are online                                             # features/steps/elevator_steps.py:32
    When I POST raw payload '{"position": 1, "door_status": "closed", "weight": -1}' to the API # features/steps/elevator_steps.py:108
    Then the response status code should be 400                                                 # features/steps/elevator_steps.py:117
    And the response error message should contain "Invalid weight"                              # features/steps/elevator_steps.py:122

  Scenario Outline: API - Validate weight limits -- @1.2                                          # features/elevator.feature:94
    Given the elevator simulator and API are online                                               # features/steps/elevator_steps.py:32
    When I POST raw payload '{"position": 1, "door_status": "closed", "weight": 2001}' to the API # features/steps/elevator_steps.py:108
    Then the response status code should be 400                                                   # features/steps/elevator_steps.py:117
    And the response error message should contain "Invalid weight"                                # features/steps/elevator_steps.py:122

  Scenario: Store and Forward (Connection Resilience)  # features/elevator.feature:97
    Given the elevator simulator and API are online    # features/steps/elevator_steps.py:32
    Given that the API connection is lost              # features/steps/elevator_steps.py:142
    When the elevator generates data for a few seconds # features/steps/elevator_steps.py:150
    And the API connection is restored                 # features/steps/elevator_steps.py:155
    Then the API should have received the stored data  # features/steps/elevator_steps.py:166

1 feature passed, 0 failed, 0 skipped
25 scenarios passed, 0 failed, 0 skipped
94 steps passed, 0 failed, 0 skipped
Took 1min 20.055s
