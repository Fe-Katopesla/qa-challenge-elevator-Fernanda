 * Serving Flask app 'mock_api'
 * Debug mode: on
USING RUNNER: behave.runner:Runner
Iniciando Simuladores (API e Elevador)
Feature: Suite Completa de Testes do Elevador IoT # features/elevator.feature:1

  Feature: Suite Completa de Testes do Elevador IoT  # features/elevator.feature:1

  Scenario Outline: Mover o elevador para andares válidos -- @1.1   # features/elevator.feature:13
    Given que o simulador do elevador e a API estão online          # features/steps/elevator_steps.py:29
    When envio o comando "MOVE" para o andar "1"                    # features/steps/elevator_steps.py:34
    Then o elevador deve reportar que está no andar "1"             # features/steps/elevator_steps.py:45

  Scenario Outline: Mover o elevador para andares válidos -- @1.2   # features/elevator.feature:14
    Given que o simulador do elevador e a API estão online          # features/steps/elevator_steps.py:29
    When envio o comando "MOVE" para o andar "2"                    # features/steps/elevator_steps.py:34
    Then o elevador deve reportar que está no andar "2"             # features/steps/elevator_steps.py:45

  Scenario Outline: Mover o elevador para andares válidos -- @1.3   # features/elevator.feature:15
    Given que o simulador do elevador e a API estão online          # features/steps/elevator_steps.py:29
    When envio o comando "MOVE" para o andar "3"                    # features/steps/elevator_steps.py:34
    Then o elevador deve reportar que está no andar "3"             # features/steps/elevator_steps.py:45

  Scenario Outline: Mover o elevador para andares válidos -- @1.4   # features/elevator.feature:16
    Given que o simulador do elevador e a API estão online          # features/steps/elevator_steps.py:29
    When envio o comando "MOVE" para o andar "4"                    # features/steps/elevator_steps.py:34
    Then o elevador deve reportar que está no andar "4"             # features/steps/elevator_steps.py:45

  Scenario Outline: Mover o elevador para andares válidos -- @1.5   # features/elevator.feature:17
    Given que o simulador do elevador e a API estão online          # features/steps/elevator_steps.py:29
    When envio o comando "MOVE" para o andar "5"                    # features/steps/elevator_steps.py:34
    Then o elevador deve reportar que está no andar "5"             # features/steps/elevator_steps.py:45

  Scenario Outline: Mover o elevador para andares válidos -- @1.6   # features/elevator.feature:18
    Given que o simulador do elevador e a API estão online          # features/steps/elevator_steps.py:29
    When envio o comando "MOVE" para o andar "6"                    # features/steps/elevator_steps.py:34
    Then o elevador deve reportar que está no andar "6"             # features/steps/elevator_steps.py:45

  Scenario Outline: Mover o elevador para andares válidos -- @1.7   # features/elevator.feature:19
    Given que o simulador do elevador e a API estão online          # features/steps/elevator_steps.py:29
    When envio o comando "MOVE" para o andar "7"                    # features/steps/elevator_steps.py:34
    Then o elevador deve reportar que está no andar "7"             # features/steps/elevator_steps.py:45

  Scenario Outline: Mover o elevador para andares válidos -- @1.8   # features/elevator.feature:20
    Given que o simulador do elevador e a API estão online          # features/steps/elevator_steps.py:29
    When envio o comando "MOVE" para o andar "8"                    # features/steps/elevator_steps.py:34
    Then o elevador deve reportar que está no andar "8"             # features/steps/elevator_steps.py:45

  Scenario Outline: Mover o elevador para andares válidos -- @1.9   # features/elevator.feature:21
    Given que o simulador do elevador e a API estão online          # features/steps/elevator_steps.py:29
    When envio o comando "MOVE" para o andar "9"                    # features/steps/elevator_steps.py:34
    Then o elevador deve reportar que está no andar "9"             # features/steps/elevator_steps.py:45

  Scenario Outline: Mover o elevador para andares válidos -- @1.10   # features/elevator.feature:22
    Given que o simulador do elevador e a API estão online           # features/steps/elevator_steps.py:29
    When envio o comando "MOVE" para o andar "10"                    # features/steps/elevator_steps.py:34
    Then o elevador deve reportar que está no andar "10"             # features/steps/elevator_steps.py:45

  Scenario: Tentar mover para um andar inválido               # features/elevator.feature:24
    Given que o simulador do elevador e a API estão online    # features/steps/elevator_steps.py:29
    When envio o comando "MOVE" para o andar "15"             # features/steps/elevator_steps.py:34
    Then o sistema deve registrar um erro de comando inválido # features/steps/elevator_steps.py:53

  Scenario: Ativar e desativar modo de manutenção          # features/elevator.feature:29
    Given que o simulador do elevador e a API estão online # features/steps/elevator_steps.py:29
    When envio o comando "MAINTENANCE_ON"                  # features/steps/elevator_steps.py:40
    Then o elevador deve entrar em modo de manutenção      # features/steps/elevator_steps.py:58
    When envio o comando "MAINTENANCE_OFF"                 # features/steps/elevator_steps.py:40
    Then o elevador deve sair do modo de manutenção        # features/steps/elevator_steps.py:63

  Scenario: Verificar recebimento contínuo de dados                                        # features/elevator.feature:36
    Given que o simulador do elevador e a API estão online                                 # features/steps/elevator_steps.py:29
    Then a cloud deve receber dados de "position", "weight" e "door_status" periodicamente # features/steps/elevator_steps.py:69

  Scenario: Enviar payload inválido para a API                      # features/elevator.feature:40
    Given que o simulador do elevador e a API estão online          # features/steps/elevator_steps.py:29
    When envio um pacote de dados sem o campo "position" para a API # features/steps/elevator_steps.py:79
    Then a API deve retornar um erro 400                            # features/steps/elevator_steps.py:86

  Scenario: Store and Forward (Resiliência de conexão)          # features/elevator.feature:45
    Given que o simulador do elevador e a API estão online      # features/steps/elevator_steps.py:29
    Given que a conexão com a API cai                           # features/steps/elevator_steps.py:91
    When o elevador gera dados por alguns segundos              # features/steps/elevator_steps.py:96
    And a conexão com a API é restabelecida                     # features/steps/elevator_steps.py:100
 * Serving Flask app 'mock_api'
 * Debug mode: on
    Then a API deve ter recebido os dados que estavam guardados # features/steps/elevator_steps.py:105

1 feature passed, 0 failed, 0 skipped
15 scenarios passed, 0 failed, 0 skipped
48 steps passed, 0 failed, 0 skipped
Took 0min 52.085s
